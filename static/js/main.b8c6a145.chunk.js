(this.webpackJsonpmap=this.webpackJsonpmap||[]).push([[0],{30:function(t,e,n){},69:function(t,e,n){"use strict";n.r(e);var a=n(1),c=n.n(a),r=n(8),i=n.n(r),o=(n(30),n(25)),s=n(5),l=n.n(s),u=n(10),p=n(3),j=n(15),h=n(7),d=n.n(h),b=n(0),g=function(t){var e=Object(a.useState)(""),n=Object(p.a)(e,2),c=n[0],r=n[1],i=Object(a.useState)(""),o=Object(p.a)(i,2),s=o[0],j=o[1],h=Object(a.useState)(""),g=Object(p.a)(h,2),f=g[0],x=g[1],w=Object(a.useState)(null),O=Object(p.a)(w,2),m=O[0],v=O[1],y=function(){var e=Object(u.a)(l.a.mark((function e(n){var a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),a=new FormData,!(c.match(/^[0-9]+[.]?[0-9]+$/)&&s.match(/^[0-9]+[.]?[0-9]+$/)&&f.length&&m)){e.next=16;break}return a.append("lat",c),a.append("lng",s),a.append("info",f),a.append("image",m),e.next=9,d.a.post("https://wwwqqqwww.herokuapp.com/",a).then((function(t){return console.log(t)}));case 9:r(""),j(""),x(""),v(null),t.setFlag(!t.flag),e.next=17;break;case 16:alert('Coordinates must be numeric with ".", and all fields must be filling');case 17:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(b.jsx)("div",{style:{height:"500px",width:"6em",backgroundColor:"grey",textAlign:"center",fontSize:"40px"},children:Object(b.jsxs)("form",{children:[Object(b.jsxs)("label",{children:["\u0428\u0438\u0440\u043e\u0442\u0430:",Object(b.jsx)("input",{value:c,type:"text",onChange:function(t){r(t.target.value.split(" ").join(""))}})]}),Object(b.jsxs)("label",{children:["\u0414\u043e\u0432\u0433\u043e\u0442\u0430:",Object(b.jsx)("input",{value:s,type:"text",onChange:function(t){j(t.target.value.split(" ").join(""))}})]}),Object(b.jsxs)("label",{children:["\u0406\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0456\u044f:",Object(b.jsx)("input",{value:f,type:"text",onChange:function(t){x(t.target.value)}})]}),Object(b.jsxs)("label",{children:["\u0417\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0438\u0442\u0438 \u0444\u043e\u0442\u043e:",Object(b.jsx)("input",{name:"image",type:"file",onChange:function(t){return v(t.target.files[0])}})]}),Object(b.jsx)("button",{onClick:y,children:"\u0417\u0434\u0430\u0442\u0438 \u0432 \u043e\u0440\u0435\u043d\u0434\u0443"})]})})},f={width:"800px",height:"500px"},x=Object(j.GoogleApiWrapper)({apiKey:Object({NODE_ENV:"production",PUBLIC_URL:"/map",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_URL:"https://wwwqqqwww.herokuapp.com/",REACT_APP_API_URLl:"http://localhost:5000/"}).API_KEY})((function(t){var e=t.google,n=Object(a.useState)(!1),c=Object(p.a)(n,2),r=c[0],i=c[1],s=Object(a.useState)([]),h=Object(p.a)(s,2),x=h[0],w=h[1],O=Object(a.useState)([]),m=Object(p.a)(O,2),v=m[0],y=m[1],C=Object(a.useState)(""),k=Object(p.a)(C,2),S=k[0],q=k[1];Object(a.useEffect)(Object(u.a)(l.a.mark((function t(){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("first effect"),t.next=3,d.a.get("https://wwwqqqwww.herokuapp.com/").then((function(t){return w(t.data.positions)}));case 3:return t.next=5,d.a.get("https://wwwqqqwww.herokuapp.com/").then((function(t){return y(t.data.positions)}));case 5:case"end":return t.stop()}}),t)}))),[]),Object(a.useEffect)(Object(u.a)(l.a.mark((function t(){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,d.a.get("https://wwwqqqwww.herokuapp.com/").then((function(t){return w(t.data.positions)}));case 2:return t.next=4,d.a.get("https://wwwqqqwww.herokuapp.com/").then((function(t){return y(t.data.positions)}));case 4:case"end":return t.stop()}}),t)}))),[r]);var _=function(t){var n=[],a=S.map.getBounds();console.log(a);for(var c=0;c<x.length;c++)a.contains(new e.maps.LatLng(x[c].lat,x[c].lng))&&n.push(x[c]);y(n)},E=function(t){var e=t.position.lat,n=v.find((function(t){return t.lat===e})),a=v.filter((function(t){return t.lat!==e})),c=[n].concat(Object(o.a)(a));y(c)};return Object(b.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",marginTop:"20px",height:"100%"},children:[Object(b.jsx)(g,{flag:r,setFlag:i}),Object(b.jsx)("div",{style:{width:"800px",height:"500px"},children:Object(b.jsx)(j.Map,{id:"map",className:"map",google:e,zoom:11,style:f,initialCenter:{lat:50.44055686944465,lng:30.53022771561217},ref:function(t){return q(t)},onReady:_,onDragend:_,onZoomChanged:_,onClick:_,onTilesloaded:_,children:x.map((function(t){return Object(b.jsx)(j.Marker,{position:{lat:t.lat,lng:t.lng},onClick:E},t._id)}))})}),Object(b.jsx)("div",{style:{width:"300px",height:"600px"},children:v.map((function(t){return Object(b.jsxs)("div",{style:{backgroundColor:"grey",border:"solid black 2px",margin:"10px"},children:[Object(b.jsx)("div",{style:{margin:"10px"},children:Object(b.jsx)("img",{style:{border:"solid black 2px",width:"255px",height:"250px"},src:"data:".concat(t.contentType,";base64,").concat(t.imageBase64),alt:"image"})}),Object(b.jsxs)("div",{style:{padding:"10px"},children:[t.info," "]})]},t._id)}))})]})})),w=function(){return Object(b.jsx)("div",{style:{height:"100px",width:"100%",backgroundColor:"grey",textAlign:"center",fontSize:"80px"},children:"SOME PLACES IN MAP"})};var O=function(){return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(w,{}),Object(b.jsx)(x,{})]})},m=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,71)).then((function(e){var n=e.getCLS,a=e.getFID,c=e.getFCP,r=e.getLCP,i=e.getTTFB;n(t),a(t),c(t),r(t),i(t)}))};console.log("https://wwwqqqwww.herokuapp.com/"),i.a.render(Object(b.jsx)(c.a.StrictMode,{children:Object(b.jsx)(O,{})}),document.getElementById("root")),m()}},[[69,1,2]]]);
//# sourceMappingURL=main.b8c6a145.chunk.js.map